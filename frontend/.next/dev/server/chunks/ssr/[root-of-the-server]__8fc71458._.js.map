{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mikae/Documents/ProjetosdeProgramacao/projeto-financeiro/frontend/app/reports/page.js"],"sourcesContent":["'use client'; \r\n\r\nimport { useState } from 'react';\r\n\r\nconst API_URL = 'https://api-financeiro-vbsl.onrender.com';\r\n\r\n// --- Seletor de M칡s (sem altera칞칚o) ---\r\nfunction MonthSelector({ currentDate, onDateChange }) {\r\n  const handlePreviousMonth = () => { const newDate = new Date(currentDate); newDate.setMonth(newDate.getMonth() - 1); onDateChange(newDate); };\r\n  const handleNextMonth = () => { const newDate = new Date(currentDate); newDate.setMonth(newDate.getMonth() + 1); onDateChange(newDate); };\r\n  const formattedDate = currentDate.toLocaleString('pt-BR', { month: 'long', year: 'numeric' }).replace(/^\\w/, (c) => c.toUpperCase());\r\n  return (\r\n    <div className=\"flex justify-between items-center mb-8 bg-fin-card/30 p-4 rounded-2xl border border-white/5 backdrop-blur-sm shadow-inner\">\r\n      <button onClick={handlePreviousMonth} className=\"px-3 py-2 text-fin-gold border border-fin-gold/40 rounded-lg hover:bg-fin-gold hover:text-black transition-all\">&lt; Anterior</button>\r\n      <h2 className=\"text-2xl font-light text-white tracking-wide\">{formattedDate}</h2>\r\n      <button onClick={handleNextMonth} className=\"px-3 py-2 text-fin-gold border border-fin-gold/40 rounded-lg hover:bg-fin-gold hover:text-black transition-all\">Pr칩ximo &gt;</button>\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- Componente de Checkbox (sem altera칞칚o) ---\r\nfunction Checkbox({ label, checked, onChange, id }) {\r\n  return (\r\n    <label htmlFor={id} className=\"flex items-center gap-3 p-4 bg-fin-dark/50 rounded-xl border border-white/10 cursor-pointer hover:bg-fin-dark transition-all\">\r\n      <input id={id} type=\"checkbox\" checked={checked} onChange={onChange} name={id} className=\"h-5 w-5 rounded-md bg-fin-dark/80 border-2 border-fin-gold/50 text-fin-gold focus:ring-fin-gold/50\"/>\r\n      <span className=\"text-white font-medium\">{label}</span>\r\n    </label>\r\n  );\r\n}\r\n\r\n// --- Componente Principal (ATUALIZADO) ---\r\nexport default function ReportsPage() {\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  \r\n  const [exportOptions, setExportOptions] = useState({\r\n    include_income: true,\r\n    include_expenses: true,\r\n    include_goals: true,\r\n    include_portfolio: true,\r\n    include_credit_cards: true,\r\n    include_budget: true,\r\n    include_balance: true,\r\n  });\r\n\r\n  const handleCheckboxChange = (event) => {\r\n    const { name, checked } = event.target;\r\n    setExportOptions(prev => ({ ...prev, [name]: checked }));\r\n  };\r\n\r\n  // 游녢 ATUALIZADO: L칩gica para lidar com PDF ou Excel\r\n  const handleDownload = (format) => {\r\n    setIsLoading(true);\r\n    \r\n    const month = currentDate.getMonth() + 1;\r\n    const year = currentDate.getFullYear();\r\n    const params = new URLSearchParams({ month, year, ...exportOptions });\r\n    \r\n    const endpoint = format === 'pdf' ? '/pdf' : '/excel';\r\n    const downloadUrl = `${API_URL}/reports${endpoint}?${params.toString()}`;\r\n\r\n    // Para PDF, podemos abrir em nova aba. Para Excel, for칞amos o download.\r\n    if (format === 'pdf') {\r\n      window.open(downloadUrl, '_blank');\r\n      setIsLoading(false);\r\n    } else {\r\n      // Para for칞ar o download do Excel, criamos um link 'a' invis칤vel\r\n      axios({\r\n        url: downloadUrl,\r\n        method: 'GET',\r\n        responseType: 'blob', // Importante para arquivos\r\n      }).then((response) => {\r\n         const href = URL.createObjectURL(response.data);\r\n         const link = document.createElement('a');\r\n         link.href = href;\r\n         link.setAttribute('download', `relatorio_${year}_${month}.xlsx`);\r\n         document.body.appendChild(link);\r\n         link.click();\r\n         document.body.removeChild(link);\r\n         URL.revokeObjectURL(href);\r\n         setIsLoading(false);\r\n      }).catch(error => {\r\n        console.error(\"Erro no download:\", error);\r\n        setIsLoading(false);\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto\">\r\n      <div className=\"bg-gradient-to-br from-fin-card to-fin-dark/80 p-8 rounded-3xl shadow-2xl mb-8 border border-fin-gold/20 backdrop-blur-sm\">\r\n        \r\n        <div className=\"flex items-center gap-3 mb-8\">\r\n          <div className=\"p-3 bg-fin-gold/20 rounded-2xl\"><span className=\"text-2xl\">游늯</span></div>\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-white\">Exportar Relat칩rios</h2>\r\n            <p className=\"text-fin-gold/70 text-sm\">Gere um arquivo com os dados do per칤odo</p>\r\n          </div>\r\n        </div>\r\n\r\n        <MonthSelector currentDate={currentDate} onDateChange={setCurrentDate} />\r\n\r\n        <div className=\"mb-8\">\r\n          <h3 className=\"text-lg font-semibold text-white mb-4\">Selecione os dados para incluir:</h3>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <Checkbox label=\"Entradas (Receitas)\" id=\"include_income\" checked={exportOptions.include_income} onChange={handleCheckboxChange} />\r\n            <Checkbox label=\"Sa칤das (Despesas)\" id=\"include_expenses\" checked={exportOptions.include_expenses} onChange={handleCheckboxChange} />\r\n            <Checkbox label=\"Status das Metas\" id=\"include_goals\" checked={exportOptions.include_goals} onChange={handleCheckboxChange} />\r\n            <Checkbox label=\"Resumo do Portf칩lio\" id=\"include_portfolio\" checked={exportOptions.include_portfolio} onChange={handleCheckboxChange} />\r\n            <Checkbox label=\"Gastos no Cart칚o\" id=\"include_credit_cards\" checked={exportOptions.include_credit_cards} onChange={handleCheckboxChange} />\r\n            <Checkbox label=\"Resumo do Or칞amento\" id=\"include_budget\" checked={exportOptions.include_budget} onChange={handleCheckboxChange} />\r\n            <Checkbox label=\"Balan칞o de Caixa\" id=\"include_balance\" checked={exportOptions.include_balance} onChange={handleCheckboxChange} />\r\n          </div>\r\n        </div>\r\n\r\n        {/* 游녢 BOT칏ES ATUALIZADOS 游녢 */}\r\n        <div className=\"flex flex-col md:flex-row gap-4\">\r\n          <button \r\n            onClick={() => handleDownload('pdf')}\r\n            disabled={isLoading}\r\n            className=\"w-full bg-gradient-to-r from-fin-red to-rose-700 hover:opacity-90 text-white font-bold py-4 px-6 rounded-xl transition-all shadow-lg disabled:opacity-50\"\r\n          >\r\n            {isLoading ? \"Gerando...\" : \"Gerar Relat칩rio PDF\"}\r\n          </button>\r\n          <button \r\n            onClick={() => handleDownload('excel')}\r\n            disabled={isLoading}\r\n            className=\"w-full bg-gradient-to-r from-green-600 to-emerald-700 hover:opacity-90 text-white font-bold py-4 px-6 rounded-xl transition-all shadow-lg disabled:opacity-50\"\r\n          >\r\n            {isLoading ? \"Gerando...\" : \"Exportar para Excel (.xlsx)\"}\r\n          </button>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 364, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mikae/Documents/ProjetosdeProgramacao/projeto-financeiro/frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 383, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mikae/Documents/ProjetosdeProgramacao/projeto-financeiro/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,wLACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 388, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mikae/Documents/ProjetosdeProgramacao/projeto-financeiro/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,wLACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}}]
}