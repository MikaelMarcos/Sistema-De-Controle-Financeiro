{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mikae/Documents/ProjetosdeProgramacao/projeto-financeiro/frontend/app/portfolio/page.js"],"sourcesContent":["'use client'; \r\n\r\nimport { useState, useEffect, Fragment } from 'react';\r\nimport axios from 'axios';\r\nimport { Listbox, Transition } from '@headlessui/react';\r\n\r\n// --- √çcones ---\r\nconst SelectorIcon = () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-5 h-5 text-gray-400\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9\" /></svg>;\r\nconst CheckIcon = () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-5 h-5 text-fin-gold\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\" /></svg>;\r\n\r\nconst API_URL = 'http://localhost:8000';\r\n\r\n// --- Fun√ß√£o Auxiliar de Formata√ß√£o ---\r\nconst formatCurrency = (value) => {\r\n  if (value === null || value === undefined || typeof value !== 'number') value = 0;\r\n  return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });\r\n};\r\n\r\n// --- Componente de Seletor ---\r\nfunction CustomSelect({ label, value, onChange, options, placeholder }) {\r\n  const selectedOption = options.find(option => option.id === value) || null;\r\n  return (\r\n    <div>\r\n      {label && <label className=\"block text-sm font-medium text-white/80 mb-2\">{label}</label>}\r\n      <Listbox value={value} onChange={onChange}>\r\n        <div className=\"relative\">\r\n          <Listbox.Button className=\"relative w-full p-4 pr-10 text-left bg-fin-dark/60 rounded-xl border-2 border-white/10 focus:border-fin-gold focus:ring-2 focus:ring-fin-gold/20 transition-all text-white\">\r\n            <span className=\"block truncate\">{selectedOption ? selectedOption.name : <span className=\"text-white/40\">{placeholder}</span>}</span>\r\n            <span className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2\"><SelectorIcon /></span>\r\n          </Listbox.Button>\r\n          <Transition as={Fragment} leave=\"transition ease-in duration-100\" leaveFrom=\"opacity-100\" leaveTo=\"opacity-0\">\r\n            <Listbox.Options className=\"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-xl bg-fin-dark py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm border border-fin-gold/50\">\r\n              {options.map((option) => (\r\n                <Listbox.Option key={option.id} className={({ active }) => `relative cursor-pointer select-none py-2 pl-10 pr-4 ${ active ? 'bg-fin-card/80 text-fin-gold' : 'text-white' }`} value={option.id}>\r\n                  {({ selected }) => (\r\n                    <>\r\n                      <span className={`block truncate ${selected ? 'font-bold' : 'font-normal'}`}>{option.name}</span>\r\n                      {selected ? (<span className=\"absolute inset-y-0 left-0 flex items-center pl-3\"><CheckIcon /></span>) : null}\r\n                    </>\r\n                  )}\r\n                </Listbox.Option>\r\n              ))}\r\n            </Listbox.Options>\r\n          </Transition>\r\n        </div>\r\n      </Listbox>\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- Formul√°rio para Adicionar Ativos ---\r\nfunction AddHoldingForm({ onHoldingAdded }) {\r\n  const [ticker, setTicker] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [assetType, setAssetType] = useState('A√ß√£o');\r\n  const [quantity, setQuantity] = useState('');\r\n  const [averagePrice, setAveragePrice] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [quote, setQuote] = useState(null);\r\n  const [quoteLoading, setQuoteLoading] = useState(false);\r\n\r\n  const assetTypes = [\r\n    { id: 'A√ß√£o', name: 'A√ß√£o (BR)' },\r\n    { id: 'FII', name: 'FII (BR)' },\r\n    { id: 'Cripto', name: 'Criptomoeda' },\r\n    { id: 'A√ß√£o (EUA)', name: 'A√ß√£o (EUA)' },\r\n  ];\r\n\r\n  const fetchQuote = () => {\r\n    if (!ticker) return;\r\n    setQuoteLoading(true);\r\n    setQuote(null);\r\n    axios.get(`${API_URL}/portfolio/quote/${ticker}`)\r\n      .then(response => setQuote(response.data.price))\r\n      .catch(error => {\r\n        console.error(\"Erro:\", error);\r\n        setQuote('N√£o encontrado');\r\n      })\r\n      .finally(() => setQuoteLoading(false));\r\n  };\r\n  \r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!ticker || !name || !assetType || !quantity || !averagePrice) {\r\n      alert(\"Preencha todos os campos.\");\r\n      return;\r\n    }\r\n    setIsSubmitting(true);\r\n    try {\r\n      const holdingData = {\r\n        ticker: ticker.toUpperCase(),\r\n        name,\r\n        asset_type: assetType,\r\n        quantity: parseFloat(quantity),\r\n        average_price: parseFloat(averagePrice)\r\n      };\r\n      await axios.post(`${API_URL}/portfolio/`, holdingData);\r\n      setTicker(''); setName(''); setAssetType('A√ß√£o');\r\n      setQuantity(''); setAveragePrice(''); setQuote(null);\r\n      onHoldingAdded();\r\n    } catch (error) {\r\n      alert(\"Erro ao salvar ativo.\");\r\n      console.error(error);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gradient-to-br from-fin-card to-fin-dark/80 p-8 rounded-3xl shadow-2xl mb-8 border border-fin-gold/20 backdrop-blur-sm\">\r\n      <h2 className=\"text-2xl font-bold text-white mb-6\">Adicionar Ativo ao Portf√≥lio</h2>\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        \r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-white/80 mb-2\">Ticker *</label>\r\n            <div className=\"flex gap-2\">\r\n              <input type=\"text\" value={ticker} onChange={(e) => setTicker(e.target.value)} placeholder=\"Ex: ITUB4\" className=\"w-full p-4 bg-fin-dark/60 rounded-xl border-2 border-white/10 focus:border-fin-gold text-white uppercase\"/>\r\n              <button type=\"button\" onClick={fetchQuote} disabled={quoteLoading} className=\"p-4 bg-fin-dark/60 rounded-xl border-2 border-white/10 text-fin-gold hover:border-fin-gold transition\">\r\n                {quoteLoading ? '...' : 'Buscar'}\r\n              </button>\r\n            </div>\r\n            {quote && (\r\n              <div className=\"text-sm mt-2 text-fin-highlight\">\r\n                Pre√ßo Atual: {typeof quote === 'number' ? formatCurrency(quote) : quote}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"md:col-span-2\">\r\n            <label className=\"block text-sm font-medium text-white/80 mb-2\">Nome do Ativo *</label>\r\n            <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} placeholder=\"Ex: Ita√∫ Unibanco\" className=\"w-full p-4 bg-fin-dark/60 rounded-xl border-2 border-white/10 focus:border-fin-gold text-white\"/>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <CustomSelect label=\"Tipo de Ativo *\" value={assetType} onChange={setAssetType} options={assetTypes} placeholder=\"Selecione o tipo\"/>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-white/80 mb-2\">Quantidade *</label>\r\n            <input type=\"number\" step=\"any\" value={quantity} onChange={(e) => setQuantity(e.target.value)} placeholder=\"Ex: 100\" className=\"w-full p-4 bg-fin-dark/60 rounded-xl border-2 border-white/10 focus:border-fin-gold text-white\"/>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-white/80 mb-2\">Pre√ßo M√©dio de Compra *</label>\r\n            <input type=\"number\" step=\"any\" value={averagePrice} onChange={(e) => setAveragePrice(e.target.value)} placeholder=\"Ex: 28.50\" className=\"w-full p-4 bg-fin-dark/60 rounded-xl border-2 border-white/10 focus:border-fin-gold text-white\"/>\r\n          </div>\r\n        </div>\r\n\r\n        <button type=\"submit\" disabled={isSubmitting} className=\"w-full bg-gradient-to-r from-fin-highlight to-fin-gold hover:opacity-90 text-fin-dark font-bold py-4 rounded-xl transition shadow-lg\">\r\n          {isSubmitting ? 'Salvando...' : 'üíæ Salvar Ativo'}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- Componente para Mostrar o Portf√≥lio ---\r\nfunction PortfolioView({ holdings, setHoldings }) {\r\n  const [marketPrices, setMarketPrices] = useState({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // üëá MUDAN√áA AQUI: Esta fun√ß√£o agora √© chamada manualmente\r\n  const fetchPricesSequentially = async () => {\r\n    if (holdings.length === 0) return;\r\n    setIsLoading(true);\r\n    \r\n    const uniqueTickers = [...new Set(holdings.map(h => h.asset.ticker))];\r\n    const newPrices = { ...marketPrices };\r\n\r\n    for (const ticker of uniqueTickers) {\r\n      try {\r\n        const res = await axios.get(`${API_URL}/portfolio/quote/${ticker}`);\r\n        newPrices[ticker] = res.data.price;\r\n        setMarketPrices({ ...newPrices });\r\n        // Delay de 15s para a API gratuita\r\n        await new Promise(resolve => setTimeout(resolve, 15000));\r\n      } catch (e) {\r\n        console.error(`Falha ao buscar ${ticker}`);\r\n        newPrices[ticker] = 0; // Marca como falha\r\n      }\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const handleDelete = async (holdingId) => {\r\n    if (confirm(\"Remover este ativo do portf√≥lio?\")) {\r\n      try {\r\n        await axios.delete(`${API_URL}/portfolio/${holdingId}`);\r\n        setHoldings(prev => prev.filter(h => h.id !== holdingId));\r\n      } catch (e) {\r\n        alert(\"Erro ao deletar ativo.\");\r\n      }\r\n    }\r\n  };\r\n  \r\n  let totalInvested = 0;\r\n  let totalCurrent = 0;\r\n  holdings.forEach(h => {\r\n    // Usa o pre√ßo de mercado se j√° foi buscado, sen√£o usa o pre√ßo m√©dio\r\n    const currentPrice = marketPrices[h.asset.ticker] || h.average_price; \r\n    totalInvested += h.quantity * h.average_price;\r\n    totalCurrent += h.quantity * currentPrice;\r\n  });\r\n  const totalProfit = totalCurrent - totalInvested;\r\n  const totalProfitPercent = (totalInvested > 0) ? (totalProfit / totalInvested) * 100 : 0;\r\n\r\n  return (\r\n    <div className=\"bg-gradient-to-br from-fin-card to-fin-dark/80 p-8 rounded-3xl border border-white/5 backdrop-blur-sm\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h2 className=\"text-2xl font-bold text-white\">Meu Patrim√¥nio</h2>\r\n        {/* üëá BOT√ÉO DE ATUALIZA√á√ÉO MANUAL üëá */}\r\n        <button\r\n          onClick={fetchPricesSequentially}\r\n          disabled={isLoading}\r\n          className=\"px-4 py-2 bg-fin-dark/70 text-fin-gold border border-fin-gold/50 rounded-xl hover:bg-fin-gold hover:text-fin-dark transition disabled:opacity-50 disabled:animate-pulse\"\r\n        >\r\n          {isLoading ? 'Atualizando...' : 'üîÑ Atualizar Cota√ß√µes'}\r\n        </button>\r\n      </div>\r\n      \r\n      {/* ... (Cards de Resumo - sem altera√ß√£o) ... */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n        <div className=\"bg-fin-dark/50 p-6 rounded-2xl border border-white/5 text-center\">\r\n          <div className=\"text-gray-400 text-sm mb-1\">Patrim√¥nio Atual</div>\r\n          <div className=\"text-3xl font-bold text-white\">{formatCurrency(totalCurrent)}</div>\r\n        </div>\r\n        <div className=\"bg-fin-dark/50 p-6 rounded-2xl border border-white/5 text-center\">\r\n          <div className=\"text-gray-400 text-sm mb-1\">Total Investido</div>\r\n          <div className=\"text-3xl font-bold text-gray-300\">{formatCurrency(totalInvested)}</div>\r\n        </div>\r\n        <div className={`p-6 rounded-2xl border ${totalProfit >= 0 ? 'bg-green-500/10 border-green-500/20' : 'bg-red-500/10 border-red-500/20'}`}>\r\n          <div className={`text-sm mb-1 ${totalProfit >= 0 ? 'text-green-400' : 'text-fin-red'}`}>Lucro/Preju√≠zo</div>\r\n          <div className={`text-3xl font-bold ${totalProfit >= 0 ? 'text-green-400' : 'text-fin-red'}`}>\r\n            {formatCurrency(totalProfit)} ({totalProfitPercent.toFixed(1)}%)\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {isLoading && <div className=\"text-center text-fin-gold animate-pulse mb-4\">Atualizando cota√ß√µes... (15s por ativo)</div>}\r\n\r\n      {/* Lista de Ativos */}\r\n      <div className=\"space-y-4\">\r\n        {holdings.map(h => {\r\n          const currentPrice = marketPrices[h.asset.ticker] || 0;\r\n          const invested = h.quantity * h.average_price;\r\n          const currentVal = h.quantity * currentPrice;\r\n          const profit = currentVal - invested;\r\n          const profitPercent = (invested > 0) ? (profit / invested) * 100 : 0;\r\n          // Mostra '...' se o pre√ßo ainda n√£o foi buscado\r\n          const isPriceFound = marketPrices[h.asset.ticker] !== undefined; \r\n\r\n          return (\r\n            <div key={h.id} className=\"bg-fin-dark/50 p-5 rounded-2xl border border-white/10\">\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <div>\r\n                  <h3 className=\"text-xl font-bold text-white\">{h.asset.ticker}</h3>\r\n                  <p className=\"text-sm text-gray-400\">{h.asset.name} ({h.asset.asset_type})</p>\r\n                </div>\r\n                <button onClick={() => handleDelete(h.id)} className=\"p-2 text-fin-red/50 hover:text-fin-red hover:bg-fin-red/10 rounded-full\">üóëÔ∏è</button>\r\n              </div>\r\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-center\">\r\n                <div>\r\n                  <div className=\"text-xs text-gray-400\">Posi√ß√£o Atual</div>\r\n                  <div className=\"text-lg font-semibold text-white\">{formatCurrency(currentVal)}</div>\r\n                  {isPriceFound && <div className={`text-sm ${profit >= 0 ? 'text-green-400' : 'text-fin-red'}`}>{profitPercent.toFixed(1)}%</div>}\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-gray-400\">Pre√ßo Atual</div>\r\n                  <div className=\"text-lg font-semibold text-white\">{isPriceFound ? formatCurrency(currentPrice) : '...'}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-gray-400\">Quantidade</div>\r\n                  <div className=\"text-lg font-semibold text-white\">{h.quantity}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-gray-400\">Pre√ßo M√©dio</div>\r\n                  <div className=\"text-lg font-semibold text-white\">{formatCurrency(h.average_price)}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- Componente Principal da P√°gina ---\r\nexport default function PortfolioPage() {\r\n  const [holdings, setHoldings] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const fetchHoldings = () => {\r\n    setIsLoading(true);\r\n    axios.get(`${API_URL}/portfolio/`)\r\n      .then(res => setHoldings(res.data))\r\n      .catch(e => console.error(\"Erro ao buscar portf√≥lio:\", e))\r\n      .finally(() => setIsLoading(false));\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchHoldings();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen\">\r\n      <div className=\"max-w-6xl mx-auto\">\r\n        <AddHoldingForm onHoldingAdded={fetchHoldings} />\r\n        {isLoading ? (\r\n          <div className=\"text-center text-white/60 py-12\">Carregando portf√≥lio...</div>\r\n        ) : (\r\n          <PortfolioView holdings={holdings} setHoldings={setHoldings} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}