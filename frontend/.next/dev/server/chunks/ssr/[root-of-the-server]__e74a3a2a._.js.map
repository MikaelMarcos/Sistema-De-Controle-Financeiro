{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mikae/Documents/ProjetosdeProgramacao/projeto-financeiro/frontend/app/portfolio/page.js"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, Fragment } from 'react';\r\nimport axios from 'axios';\r\nimport { Listbox, Transition } from '@headlessui/react';\r\n// üëá NOVAS IMPORTA√á√ïES PARA O GR√ÅFICO\r\nimport { Pie } from 'react-chartjs-2';\r\nimport { Chart, ArcElement, Tooltip, Legend } from 'chart.js';\r\n\r\n// Registra os componentes necess√°rios do Chart.js\r\nChart.register(ArcElement, Tooltip, Legend);\r\n\r\n// --- √çcones (sem altera√ß√£o) ---\r\nconst SelectorIcon = () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-5 h-5 text-gray-400\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9\" /></svg>;\r\nconst CheckIcon = () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-5 h-5 text-fin-gold\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\" /></svg>;\r\n\r\nconst API_URL = 'https://api-financeiro-vbsl.onrender.com';\r\nconst formatCurrency = (v) => (v ?? 0).toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });\r\n\r\n// --- Componente de Seletor (sem altera√ß√£o) ---\r\nfunction CustomSelect({ label, value, onChange, options, placeholder }) {\r\n  const selectedOption = options.find(o => o.id === value);\r\n  return (\r\n    <div>\r\n      {label && <label className=\"block text-sm font-medium text-white/80 mb-2\">{label}</label>}\r\n      <Listbox value={value} onChange={onChange}>\r\n        <div className=\"relative\">\r\n          <Listbox.Button className=\"relative w-full p-4 pr-10 text-left bg-[#0d1b2a]/70 rounded-xl border border-white/10 focus:ring-2 focus:ring-fin-gold/30 hover:bg-[#1b263b]/80 transition text-white backdrop-blur-md\">\r\n            <span className=\"block truncate\">{selectedOption ? selectedOption.name : <span className=\"text-white/40\">{placeholder}</span>}</span>\r\n            <span className=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\"><SelectorIcon /></span>\r\n          </Listbox.Button>\r\n          <Transition as={Fragment} leave=\"transition ease-in duration-100\" leaveFrom=\"opacity-100\" leaveTo=\"opacity-0\">\r\n            <Listbox.Options className=\"absolute z-20 mt-1 max-h-60 w-full overflow-auto rounded-xl bg-[#1b263b]/95 py-1 shadow-xl ring-1 ring-fin-gold/40 focus:outline-none sm:text-sm border border-fin-gold/20 backdrop-blur-md\">\r\n              {options.map((option) => (\r\n                <Listbox.Option key={option.id} value={option.id} className={({ active }) => `relative cursor-pointer select-none py-2 pl-10 pr-4 rounded-lg ${active ? 'bg-fin-gold/20 text-fin-gold' : 'text-white'}`}>\r\n                  {({ selected }) => (\r\n                    <>\r\n                      <span className={`block truncate ${selected ? 'font-bold text-fin-gold' : 'font-normal'}`}>{option.name}</span>\r\n                      {selected && (<span className=\"absolute inset-y-0 left-0 flex items-center pl-3\"><CheckIcon /></span>)}\r\n                    </>\r\n                  )}\r\n                </Listbox.Option>\r\n              ))}\r\n            </Listbox.Options>\r\n          </Transition>\r\n        </div>\r\n      </Listbox>\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- üëá NOVO COMPONENTE: GR√ÅFICO DE ALOCA√á√ÉO üëá ---\r\nfunction AssetAllocationCard({ monthlyInvestmentAmount }) {\r\n  // Perfil Arrojado (baseado na sua imagem)\r\n  const allocationProfile = {\r\n    labels: ['Renda Fixa', 'A√ß√µes', 'Internacional', 'FIIs', 'Criptomoedas'],\r\n    percentages: [0.45, 0.30, 0.15, 0.05, 0.05],\r\n  };\r\n\r\n  // Calcula os valores em R$\r\n  const investmentValues = allocationProfile.percentages.map(\r\n    (perc) => monthlyInvestmentAmount * perc\r\n  );\r\n\r\n  const chartData = {\r\n    labels: allocationProfile.labels.map((label, i) => \r\n      `${label} (${(allocationProfile.percentages[i] * 100).toFixed(0)}%)`\r\n    ),\r\n    datasets: [\r\n      {\r\n        data: investmentValues,\r\n        // Usando sua paleta de cores\r\n        backgroundColor: [\r\n          '#025E73', // Renda Fixa (fin-card)\r\n          '#024059', // A√ß√µes (fin-dark)\r\n          '#D9896C', // Internacional (fin-terra)\r\n          '#8C5346', // FIIs (fin-red)\r\n          '#F2AB6D', // Cripto (fin-gold)\r\n        ],\r\n        borderColor: '#0a192f', // Cor de fundo da p√°gina\r\n        borderWidth: 3,\r\n        hoverOffset: 12,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: {\r\n        position: 'right',\r\n        labels: {\r\n          color: '#E2E8F0', // Texto (branco-gelo)\r\n          font: { size: 14 },\r\n          boxWidth: 20,\r\n        },\r\n      },\r\n      tooltip: {\r\n        callbacks: {\r\n          label: function (context) {\r\n            let label = context.label || '';\r\n            if (label) {\r\n              label += ': ';\r\n            }\r\n            if (context.parsed !== null) {\r\n              label += formatCurrency(context.parsed);\r\n            }\r\n            return label;\r\n          },\r\n        },\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gradient-to-br from-[#1b263b] to-[#0d1b2a] p-8 rounded-3xl border border-fin-gold/10 shadow-xl backdrop-blur-md mb-10\">\r\n      <h2 className=\"text-3xl font-semibold text-fin-gold mb-2 tracking-tight\">Aloca√ß√£o do Aporte Mensal</h2>\r\n      <p className=\"text-white/70 mb-1\">Valor total a investir este m√™s:</p>\r\n      <p className=\"text-4xl font-extrabold text-fin-highlight mb-6\">\r\n        {formatCurrency(monthlyInvestmentAmount)}\r\n      </p>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 items-center\" style={{ height: '300px' }}>\r\n        {/* Lado do Gr√°fico */}\r\n        <div className=\"h-full relative\">\r\n          <Pie data={chartData} options={chartOptions} />\r\n        </div>\r\n        \r\n        {/* Lado dos Valores Detalhados */}\r\n        <div className=\"space-y-3\">\r\n          {allocationProfile.labels.map((label, i) => (\r\n            <div key={label} className=\"flex justify-between items-center bg-fin-dark/50 p-3 rounded-lg border border-white/10\">\r\n              <span className=\"text-white/90\">{label}</span>\r\n              <span className=\"font-bold text-white\">{formatCurrency(investmentValues[i])}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n// --- Formul√°rio (sem altera√ß√£o) ---\r\nfunction AddHoldingForm({ onHoldingAdded }) {\r\n  const [ticker, setTicker] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [assetType, setAssetType] = useState('A√ß√£o');\r\n  const [quantity, setQuantity] = useState('');\r\n  const [averagePrice, setAveragePrice] = useState('');\r\n  const [quote, setQuote] = useState(null);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [quoteLoading, setQuoteLoading] = useState(false);\r\n\r\n  const assetTypes = [\r\n    { id: 'A√ß√£o', name: 'A√ß√£o (BR)' },\r\n    { id: 'FII', name: 'FII (BR)' },\r\n    { id: 'Cripto', name: 'Criptomoeda' },\r\n    { id: 'A√ß√£o (EUA)', name: 'A√ß√£o (EUA)' },\r\n  ];\r\n\r\n  const fetchQuote = async () => {\r\n    if (!ticker) return;\r\n    setQuoteLoading(true);\r\n    try {\r\n      const { data } = await axios.get(`${API_URL}/portfolio/quote/${ticker}`);\r\n      setQuote(data.price);\r\n    } catch {\r\n      setQuote('N√£o encontrado');\r\n    } finally {\r\n      setQuoteLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!ticker || !name || !assetType || !quantity || !averagePrice)\r\n      return alert('Preencha todos os campos.');\r\n    setIsSubmitting(true);\r\n    try {\r\n      await axios.post(`${API_URL}/portfolio/`, {\r\n        ticker: ticker.toUpperCase(), name, asset_type: assetType,\r\n        quantity: parseFloat(quantity), average_price: parseFloat(averagePrice),\r\n      });\r\n      setTicker(''); setName(''); setAssetType('A√ß√£o'); setQuantity(''); setAveragePrice(''); setQuote(null);\r\n      onHoldingAdded();\r\n    } catch {\r\n      alert('Erro ao salvar ativo.');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gradient-to-br from-[#1b263b] to-[#0d1b2a] p-8 rounded-3xl border border-fin-gold/10 shadow-xl backdrop-blur-md mb-10 transition-all\">\r\n      <h2 className=\"text-3xl font-semibold text-fin-gold mb-6 tracking-tight\">Adicionar Ativo üíº</h2>\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n          <div>\r\n            <label className=\"block text-sm text-white/80 mb-2\">Ticker *</label>\r\n            <div className=\"flex gap-2\">\r\n              <input value={ticker} onChange={(e) => setTicker(e.target.value)} placeholder=\"Ex: ITUB4\"\r\n                className=\"w-full p-4 bg-[#0d1b2a]/80 rounded-xl border border-white/10 focus:border-fin-gold text-white uppercase transition\" />\r\n              <button type=\"button\" onClick={fetchQuote} disabled={quoteLoading}\r\n                className=\"px-4 bg-gradient-to-r from-fin-gold to-yellow-400 text-fin-dark font-semibold rounded-xl shadow hover:opacity-90 transition\">\r\n                {quoteLoading ? '...' : 'üîç'}\r\n              </button>\r\n            </div>\r\n            {quote && (\r\n              <div className=\"text-sm mt-2 text-fin-gold/80\">\r\n                Pre√ßo Atual: {typeof quote === 'number' ? formatCurrency(quote) : quote}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"md:col-span-2\">\r\n            <label className=\"block text-sm text-white/80 mb-2\">Nome *</label>\r\n            <input value={name} onChange={(e) => setName(e.target.value)} placeholder=\"Ex: Ita√∫ Unibanco\"\r\n              className=\"w-full p-4 bg-[#0d1b2a]/80 rounded-xl border border-white/10 focus:border-fin-gold text-white transition\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n          <CustomSelect label=\"Tipo de Ativo *\" value={assetType} onChange={setAssetType} options={assetTypes} placeholder=\"Selecione\" />\r\n          <div>\r\n            <label className=\"block text-sm text-white/80 mb-2\">Quantidade *</label>\r\n            <input type=\"number\" step=\"any\" value={quantity} onChange={(e) => setQuantity(e.target.value)} placeholder=\"Ex: 100\"\r\n              className=\"w-full p-4 bg-[#0d1b2a]/80 rounded-xl border border-white/10 focus:border-fin-gold text-white transition\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm text-white/80 mb-2\">Pre√ßo M√©dio *</label>\r\n            <input type=\"number\" step=\"any\" value={averagePrice} onChange={(e) => setAveragePrice(e.target.value)} placeholder=\"Ex: 28.50\"\r\n              className=\"w-full p-4 bg-[#0d1b2a]/80 rounded-xl border border-white/10 focus:border-fin-gold text-white transition\" />\r\n          </div>\r\n        </div>\r\n        <button type=\"submit\" disabled={isSubmitting}\r\n          className=\"w-full py-4 bg-gradient-to-r from-fin-gold to-yellow-400 hover:opacity-90 text-[#0d1b2a] font-bold rounded-xl shadow-xl transition-all transform hover:scale-[1.01]\">\r\n          {isSubmitting ? 'Salvando...' : 'üíæ Salvar Ativo'}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- Visualiza√ß√£o (sem altera√ß√£o) ---\r\nfunction PortfolioView({ holdings, setHoldings }) {\r\n  const [marketPrices, setMarketPrices] = useState({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (holdings.length === 0) return;\r\n    const fetchPricesSequentially = async () => {\r\n      setIsLoading(true);\r\n      const newPrices = { ...marketPrices };\r\n      const uniqueTickers = [...new Set(holdings.map(h => h.asset.ticker))];\r\n      for (const ticker of uniqueTickers) {\r\n        if (newPrices[ticker]) continue;\r\n        try {\r\n          const res = await axios.get(`${API_URL}/portfolio/quote/${ticker}`);\r\n          newPrices[ticker] = res.data.price;\r\n        } catch (e) { newPrices[ticker] = 0; }\r\n        setMarketPrices({ ...newPrices });\r\n        await new Promise(resolve => setTimeout(resolve, 15000));\r\n      }\r\n      setIsLoading(false);\r\n    };\r\n    fetchPricesSequentially();\r\n  }, [holdings]);\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!confirm('Remover ativo?')) return;\r\n    try {\r\n      await axios.delete(`${API_URL}/portfolio/${id}`);\r\n      setHoldings((p) => p.filter(h => h.id !== id));\r\n    } catch { alert('Erro ao deletar ativo.'); }\r\n  };\r\n\r\n  let totalInvested = 0, totalCurrent = 0;\r\n  holdings.forEach(h => {\r\n    const price = marketPrices[h.asset.ticker] || h.average_price;\r\n    totalInvested += h.quantity * h.average_price;\r\n    totalCurrent += h.quantity * price;\r\n  });\r\n  const profit = totalCurrent - totalInvested;\r\n  const pct = totalInvested ? (profit / totalInvested) * 100 : 0;\r\n\r\n  return (\r\n    <div className=\"bg-[#0d1b2a]/80 p-8 rounded-3xl border border-white/10 backdrop-blur-lg shadow-xl\">\r\n      <h2 className=\"text-3xl font-semibold text-fin-gold mb-6\">üí∞ Meu Portf√≥lio</h2>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n        <div className=\"bg-[#1b263b]/80 p-6 rounded-2xl text-center border border-white/10 shadow-inner\"><div className=\"text-sm text-white/60 mb-1\">Patrim√¥nio Atual</div><div className=\"text-3xl font-bold text-white\">{formatCurrency(totalCurrent)}</div></div>\r\n        <div className=\"bg-[#1b263b]/80 p-6 rounded-2xl text-center border border-white/10\"><div className=\"text-sm text-white/60 mb-1\">Total Investido</div><div className=\"text-3xl font-bold text-gray-300\">{formatCurrency(totalInvested)}</div></div>\r\n        <div className={`p-6 rounded-2xl text-center ${profit >= 0 ? 'bg-green-600/20 border-green-500/30' : 'bg-red-600/20 border-red-500/30'} border`}><div className={`text-sm ${profit >= 0 ? 'text-green-400' : 'text-red-400'}`}>Lucro/Preju√≠zo</div><div className={`text-3xl font-bold ${profit >= 0 ? 'text-green-400' : 'text-red-400'}`}>{formatCurrency(profit)} ({pct.toFixed(1)}%)</div></div>\r\n      </div>\r\n      {isLoading && <div className=\"text-center text-fin-gold animate-pulse mb-4\">üîÑ Atualizando cota√ß√µes (delay de 15s por ativo)...</div>}\r\n      <div className=\"space-y-4\">\r\n        {holdings.map(h => {\r\n          const cp = marketPrices[h.asset.ticker] || 0;\r\n          const invested = h.quantity * h.average_price;\r\n          const curr = h.quantity * cp;\r\n          const p = curr - invested;\r\n          const pPct = invested ? (p / invested) * 100 : 0;\r\n          return (\r\n            <div key={h.id} className=\"bg-[#1b263b]/70 p-5 rounded-2xl border border-white/10 hover:border-fin-gold/30 transition-all shadow-lg\">\r\n              <div className=\"flex justify-between items-center mb-3\">\r\n                <div><h3 className=\"text-xl font-bold text-white\">{h.asset.ticker}</h3><p className=\"text-sm text-gray-400\">{h.asset.name} ({h.asset.asset_type})</p></div>\r\n                <button onClick={() => handleDelete(h.id)} className=\"text-red-400 hover:text-red-300 transition\">üóëÔ∏è</button>\r\n              </div>\r\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-center\">\r\n                <div><p className=\"text-xs text-gray-400\">Valor Atual</p><p className=\"text-lg font-semibold text-white\">{formatCurrency(curr)}</p><p className={`text-sm ${p >= 0 ? 'text-green-400' : 'text-red-400'}`}>{pPct.toFixed(1)}%</p></div>\r\n                <div><p className=\"text-xs text-gray-400\">Pre√ßo Atual</p><p className=\"text-lg font-semibold text-white\">{cp ? formatCurrency(cp) : '---'}</p></div>\r\n                <div><p className=\"text-xs text-gray-400\">Quantidade</p><p className=\"text-lg font-semibold text-white\">{h.quantity}</p></div>\r\n                <div><p className=\"text-xs text-gray-400\">Pre√ßo M√©dio</p><p className=\"text-lg font-semibold text-white\">{formatCurrency(h.average_price)}</p></div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- P√°gina principal ---\r\nexport default function PortfolioPage() {\r\n  const [holdings, setHoldings] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [monthlyInvestment, setMonthlyInvestment] = useState(0); // üëà NOVO ESTADO\r\n\r\n  const fetchHoldings = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const { data } = await axios.get(`${API_URL}/portfolio/`);\r\n      setHoldings(data);\r\n    } catch (e) {\r\n      console.error('Erro ao buscar portf√≥lio:', e);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // üëá ATUALIZADO useEffect\r\n  useEffect(() => {\r\n    // 1. Busca os ativos\r\n    fetchHoldings();\r\n    \r\n    // 2. Busca os dados do or√ßamento para o gr√°fico\r\n    const fetchBudgetData = async () => {\r\n      const date = new Date();\r\n      const month = date.getMonth() + 1;\r\n      const year = date.getFullYear();\r\n      try {\r\n        const res = await axios.get(`${API_URL}/budget/analysis?month=${month}&year=${year}`);\r\n        const analysis = res.data.analysis;\r\n        // Encontra o grupo \"Investimentos\"\r\n        const investmentGroup = analysis.find(g => g.name.toLowerCase().includes('investimentos'));\r\n        if (investmentGroup) {\r\n          setMonthlyInvestment(investmentGroup.planned_amount);\r\n        }\r\n      } catch (e) {\r\n        console.error(\"Erro ao buscar dados do or√ßamento:\", e);\r\n      }\r\n    };\r\n    fetchBudgetData();\r\n    \r\n  }, []); // Roda apenas uma vez ao carregar a p√°gina\r\n\r\n  return (\r\n    // Usei o seu fundo da p√°gina\r\n    <div className=\"min-h-screen bg-gradient-to-b from-[#0a192f] to-[#000814] py-12 px-4 md:px-8\">\r\n      <div className=\"max-w-6xl mx-auto space-y-10\">\r\n        \r\n        {/* üëá NOVO CARD DO GR√ÅFICO INSERIDO AQUI üëá */}\r\n        <AssetAllocationCard monthlyInvestmentAmount={monthlyInvestment} />\r\n\r\n        <AddHoldingForm onHoldingAdded={fetchHoldings} />\r\n        {isLoading\r\n          ? <div className=\"text-center text-white/60 py-12\">Carregando portf√≥lio...</div>\r\n          : <PortfolioView holdings={holdings} setHoldings={setHoldings} />}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}